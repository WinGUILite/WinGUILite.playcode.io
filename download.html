<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download WinGUILite - Simple Package Management for Windows</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta name="description" content="Download WinGUILite - Choose between PyQt5 and Tkinter editions for your Windows package management needs.">
    <meta name="author" content="JimmyPla6z">
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">WinGUILite</a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="download.html" class="active">Download</a>
                <a href="about.html">About</a>
            </div>
        </div>
    </nav>

        <div class="download-grid">
            <div class="download-card">
                <h2>Download WinGUILite</h2>
                <p>This will automatically download the latest version of</p>
                <p>WinGUILite. Click on the download button to continue</p>
                <div class="version-info">
                </div>
                <a href="https://github.com/WinGUILite/WinGUILite/releases/latest/download/WinGUILite.exe" 
                   class="download-button"
                   onclick="handleDownload('tkinter')">Download</a>
            </div>
        </div>
    </section>

    <!-- Thank You Section -->
    <section id="thank-you" class="download-section thank-you-section" style="display: none;">
        <div class="thank-you-card">
            <div class="thank-you-content">
                <h2>Thank you for downloading WinGUILite!</h2>
                <p>Your download should start automatically.</p>
                <div class="download-status">
                    <p>Download not starting? Copy the link below:</p>
                        </div>
                        <div id="tkinter-link" style="display: none;">
                            <div class="manual-link">
                                https://github.com/WinGUILite/WinGUILite/releases/latest/download/WinGUILite.exe
                                <button class="copy-button" onclick="copyToClipboard('https://github.com/WinGUILite/WinGUILite/releases/latest/download/WinGUILite.exe')">Copy</button>
                            </div>
                        </div>
                    </div>
                    <div class="troubleshooting">
                        <h4>Troubleshooting Steps:</h4>
                        <ul>
                            <li>Right-click the link above and select "Save link as..."</li>
                            <li>Try using a different browser</li>
                            <li>Disable any download blocking extensions</li>
                            <li>Check your internet connection</li>
                        </ul>
                    </div>
                </div>
                    <a href="download.html" class="back-button">Back to Downloads</a>
                </div>
            </div>
        </div>
    </section>

    <script>
        function handleDownload(edition) {
            // Set the hash and show thank you page after a short delay
            setTimeout(() => {
                window.location.hash = 'thank-you';
                showThankYou(edition);
            }, 500);
        }

        function showThankYou(edition) {
            // Hide main download section
            document.getElementById('main-download').style.display = 'none';
            
            // Show thank you section
            const thankYouSection = document.getElementById('thank-you');
            thankYouSection.style.display = 'block';
            
            // Show appropriate download link
            document.getElementById('pyqt5-link').style.display = edition === 'pyqt5' ? 'block' : 'none';
            document.getElementById('tkinter-link').style.display = edition === 'tkinter' ? 'block' : 'none';
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy text: ', err);
            });
        }

        // Handle hash changes
        window.addEventListener('hashchange', () => {
            const hash = window.location.hash;
            if (hash === '#thank-you') {
                document.getElementById('main-download').style.display = 'none';
                document.getElementById('thank-you').style.display = 'block';
            } else {
                document.getElementById('main-download').style.display = 'block';
                document.getElementById('thank-you').style.display = 'none';
            }
        });

        // Check hash on page load
        window.addEventListener('load', () => {
            if (window.location.hash === '#thank-you') {
                document.getElementById('main-download').style.display = 'none';
                document.getElementById('thank-you').style.display = 'block';
            }
        });
    </script>

    <footer>
        <p>Created by <a href="https://github.com/JimmyPla6z">JimmyPla6z</a> | <a href="https://github.com/WinGUILite/WinGUILite">GitHub Repository</a></p>
    </footer>
</body>
</html>
